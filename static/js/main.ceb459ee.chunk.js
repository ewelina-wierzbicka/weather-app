(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{113:function(e,t,a){e.exports=a(145)},118:function(e,t,a){},119:function(e,t,a){},145:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(58),o=a.n(c),i=(a(118),a(119),a(36)),l=a(152),s=a(80),u=a(88),d=a.n(u),m=a(101),p=a(73),f=Object(p.b)({name:"weather",initialState:{city:"",loading:!1,weatherList:[],error:{}},reducers:{citySubmitted:function(e,t){var a=t.payload;e.city=a},requestWeatherSuccess:function(e,t){var a=t.payload;e.weatherList=a,e.loading=!1},requestWeather:function(e){e.loading=!0},requestWeatherFail:function(e,t){var a=t.payload;e.loading=!1,e.error=a}}}),h=f.actions,b=h.citySubmitted,E=h.requestWeatherSuccess,y=h.requestWeather,w=h.requestWeatherFail;var g=f.reducer,v=a(151),O=a(150),S=a(149),k=a(111),x=Object(k.a)({cityInput:{width:150,margin:20,backgroundColor:"transparent",border:0,borderBottom:"4px solid #fff4de",outline:0,"&:-webkit-autofill":{transition:"background-color 5000s"}},cityError:{color:"red"},submitButton:{width:120,height:120,borderRadius:"100%",margin:20,backgroundColor:"#fff4de",border:"4px solid white",whiteSpace:"normal",outline:0},weatherList:{"& >*":{display:"inline-block",margin:20,padding:10,border:"4px solid #fff4de",backgroundColor:"rgba(255,255,255,0.8)"}},temperature:{fontSize:30,fontWeight:"100",padding:10},loading:{fontSize:34}}),W=function(e){var t=e.weather,a=x(),n=Object(O.a)(Object(S.a)(t.dt),"dd.MM.yyyy"),c=Math.round(t.temp.day),o="http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png");return r.a.createElement("div",null,t&&r.a.createElement("div",null,r.a.createElement("p",null,n),r.a.createElement("img",{src:o,alt:""}),r.a.createElement("p",null,"Temperatura:",r.a.createElement("span",{className:a.temperature},c,"\xb0C")),r.a.createElement("p",null,"Zachmurzenie:",r.a.createElement(v.a,{type:"circle",status:"normal",percent:t.clouds}))))},j=function(e){return e.city},_=function(e){return e.loading},N=function(e){return e.weatherList},T=a(91),C=T.a().shape({city:T.b().required("Wpisz miasto")}),P=function(){var e=x(),t=Object(i.b)(),a=Object(i.c)(j),n=Object(i.c)(_),c=Object(i.c)(N);return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.c,{initialValues:{city:""},onSubmit:function(e){t(b(e.city)),t(function(e){return function(){var t=Object(m.a)(d.a.mark((function t(a){var n,r,c,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(y()),t.prev=1,console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/weather-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_OPEN_WEATHER_ID:"05ec36f5239e419fffc1d5fbe32d7984"})),t.next=5,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat("05ec36f5239e419fffc1d5fbe32d7984","&units=metric"));case 5:if((n=t.sent).ok){t.next=8;break}throw new Error("".concat(n.status," - ").concat(n.statusText));case 8:return t.next=10,n.json();case 10:return r=t.sent,t.next=13,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(r.coord.lat,"&lon=").concat(r.coord.lon,"&exclude=current,minutely,hourly&appid=").concat("05ec36f5239e419fffc1d5fbe32d7984","&units=metric"));case 13:if((c=t.sent).ok){t.next=16;break}throw new Error("".concat(c.status," - ").concat(c.statusText));case 16:return t.next=18,c.json();case 18:o=t.sent,a(E(o.daily)),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(1),a(w(t.t0.message));case 25:case"end":return t.stop()}}),t,null,[[1,22]])})));return function(e){return t.apply(this,arguments)}}()}(e.city))},validationSchema:C},(function(t){return r.a.createElement(s.b,null,r.a.createElement("label",{htmlFor:"city"},"Miasto:",r.a.createElement(s.a,{id:"city",className:e.cityInput,type:"text",name:"city"}),r.a.createElement("p",{className:e.cityError},t.errors.city)),r.a.createElement("div",null,r.a.createElement("button",{className:e.submitButton,type:"submit"},"POKA\u017b PROGNOZ\u0118 POGODY")))})),r.a.createElement("p",null,"Wybrane miasto:",a),n&&r.a.createElement(l.a,{className:e.loading,spin:!0}),r.a.createElement("div",{className:e.weatherList},c.map((function(e){return r.a.createElement(W,{key:e.dt.toString(),weather:e})}))))},q=g,L=Object(p.a)({reducer:q}),A=function(){return r.a.createElement(i.a,{store:L},r.a.createElement("div",{className:"App"},r.a.createElement(P,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[113,1,2]]]);
//# sourceMappingURL=main.ceb459ee.chunk.js.map